<!-- Mobile overlay backdrop -->
@if (isMobile() && isOpen()) {
  <div class="mobile-backdrop" (click)="closeMobileNav()"></div>
}

<div class="side-panel" 
     [class.mobile-hidden]="isMobile() && !isOpen()" 
     [class.mobile-open]="isMobile() && isOpen()">
  
  <!-- Mobile close button -->
  @if (isMobile()) {
    <button class="mobile-close-btn" (click)="closeMobileNav()" aria-label="Close menu">
      <i class="icon-close"></i>
    </button>
  }
  
  <div class="header">
    <div class="header-content">
      <h3>Topic History</h3>
      <app-theme-toggle></app-theme-toggle>
    </div>
  </div>
  
  <div class="topics-list">
    @if (topics().length === 0) {
      <p class="no-topics">No topics yet. Start by entering a topic!</p>
    }
    
    @for (topic of topics(); track topic.name) {
      <div class="topic-item" (click)="navigateToTopic(topic.name)">
        <div class="topic-content">
          <div class="topic-name">{{ topic.name }}</div>
          <div class="topic-time">{{ topic.timestamp | date:'short' }}</div>
        </div>
        <div class="topic-actions">
          <button class="rename-btn" (click)="renameTopic($event, topic.name)" title="Rename topic">
            <i class="icon-edit"></i>
          </button>
          <button class="delete-btn" (click)="deleteTopic($event, topic.name)" title="Delete topic">
            <i class="icon-delete"></i>
          </button>
        </div>
      </div>
    }
  </div>
</div>
